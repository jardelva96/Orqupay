{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://pmc.dev/schemas/payment-intent.v1.json",
  "title": "PaymentIntent",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "id": { "type": "string" },
    "amount": { "type": "integer", "minimum": 1 },
    "currency": { "type": "string", "minLength": 3, "maxLength": 3 },
    "status": {
      "type": "string",
      "enum": [
        "requires_confirmation",
        "processing",
        "requires_action",
        "succeeded",
        "failed",
        "canceled"
      ]
    },
    "capture_method": {
      "type": "string",
      "enum": ["automatic", "manual"]
    },
    "customer_id": { "type": "string" },
    "payment_method_type": {
      "type": "string",
      "enum": ["card", "pix", "boleto", "wallet", "bank_transfer"]
    },
    "authorized_amount": { "type": "integer", "minimum": 0 },
    "captured_amount": { "type": "integer", "minimum": 0 },
    "refunded_amount": { "type": "integer", "minimum": 0 },
    "amount_refundable": { "type": "integer", "minimum": 0 },
    "provider": {
      "type": ["string", "null"]
    },
    "provider_reference": {
      "type": ["string", "null"]
    },
    "created_at": { "type": "string", "format": "date-time" },
    "updated_at": { "type": "string", "format": "date-time" }
  },
  "required": [
    "id",
    "amount",
    "currency",
    "status",
    "capture_method",
    "customer_id",
    "payment_method_type",
    "authorized_amount",
    "captured_amount",
    "refunded_amount",
    "amount_refundable",
    "provider",
    "provider_reference",
    "created_at",
    "updated_at"
  ]
}
